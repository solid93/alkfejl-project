{% extends 'master' %}

{% block content %}

  <div class="row">

    <div class="col-md-2">
      <h1>Feladatok</h1>
    </div>

    <div class="col-md-10">
      <a href="tasks/create" class="btn btn-primary float-xs-left">Új feladat</a>
      {{ form.open({action: 'TaskController.search', class: 'form-inline float-xs-right'}) }}

      {{ csrfField }}

      <div class="form-group">
        {{ form.text('query', null, { class: 'form-control', placeholder: 'Keresés..' }) }}
      </div>

      {{ form.submit('Keresés', 'search', { class: 'btn btn-primary' }) }}

    {{ form.close() }}
    </div>

  </div>

  <div class="mt-3">
    {% for task in tasks %}
      <h3>{{ task.title }} <small><a href="/tasks/edit/{{ task.id }}">Szerkesztés</a></small></h3>
      <p class="mb-2">{{ task.content | truncate(150) }} <small><a href="/tasks/details/{{ task.id }}">Részletek >></a></small></p>
    {% else %}
      <h3>Nincsenek feladatok.</h3>
    {% endfor %}
  </div>

{% endblock %}